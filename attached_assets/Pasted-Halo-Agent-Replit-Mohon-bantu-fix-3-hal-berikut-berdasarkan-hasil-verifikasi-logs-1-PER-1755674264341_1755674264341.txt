Halo Agent Replit üëã

Mohon bantu fix 3 hal berikut berdasarkan hasil verifikasi & logs:

1) PERBAIKI SCHEMA 404 (OpenAPI)
- Log error: IndentationError di openapi_schema.py line ~1054 (‚Äúunexpected indent‚Äù).
- Tugas:
  a. Buka `openapi_schema.py`, perbaiki indentasi pada blok path sekitar line 1054.
     - Pastikan tidak ada trailing comma/indent tab campur spaces.
     - Validasi dengan run linter/`python -m pyflakes openapi_schema.py`.
  b. Pastikan blueprint schema terdaftar sesuai stable registry:
     - File: `openapi_schema.py`, objek: `openapi_bp`, prefix: `/api/schema`
     - File: `core/enhanced_openapi_schema.py`, objek: `openapi_enhanced_bp`, prefix: `/api/schema/enhanced`
  c. Setelah fix, verifikasi:
     - GET `/api/schema` ‚Üí 200 OK (JSON stub/valid spec)
     - GET `/api/schema/enhanced` ‚Üí 200 OK

2) HILANGKAN DUPLIKASI ENDPOINT/BLUEPRINT
- Log error: `AssertionError: View function mapping is overwriting an existing endpoint function: gpts_simple.get_trading_signal`
- Tugas:
  a. Cari semua tempat yang mendaftarkan blueprint/route untuk GPTs/simple signal.
  b. Gunakan SATU jalur register saja: `routes.init_routes(app, db)` yang sudah punya anti-duplicate check.
  c. Nonaktifkan/hapus pendaftaran lama (mis. `config/app_setup.py::setup_blueprints`) atau pastikan guard:
     ```
     if 'gpts_simple' not in app.blueprints: app.register_blueprint(gpts_simple_bp, url_prefix='/api/gpts')
     ```
  d. Jalankan ulang dan pastikan tidak ada AssertionError duplikasi.

3) PERBAIKI HEALTH CHECK DATABASE (503)
- Saat ini OKX ‚Äúconnected/degraded‚Äù, tapi DB ‚Äúunhealthy‚Äù.
- Tugas:
  a. Validasi `DATABASE_URL` (format, kredensial, DB & schema exist, role punya CONNECT/USAGE/CREATE).
  b. Jika provider memerlukan SSL, gunakan: `?sslmode=require` atau set `PGSSLMODE=require`.
  c. Jalankan tes cepat dari shell:
     - `psql $DATABASE_URL -c "SELECT 1;"` ‚Üí harus OK.
  d. Pastikan app bisa `SELECT 1` tanpa exception di health:
     - GET `/health` ‚Üí status `healthy` (atau `degraded` jika OKX rate-limited).
  e. Log hasil & root cause (DNS/Firewall/SSL/Role) kalau masih gagal.

OPSIONAL (quality):
- Install `psutil` agar `/system_health.log` menampilkan metrik RAM/CPU: `pip install psutil`.
- Tambah test untuk schema:
  - `GET /api/schema` & `/api/schema/enhanced` ‚Üí assert 200 OK.
- Pastikan CI menjalankan pytest smoke suite di setiap deploy.

Kirimkan kembali:
- Cuplikan diff fix `openapi_schema.py` (sekitar line 1054)
- Log boot tanpa AssertionError
- Output `/`, `/health`, `/api/schema`, `/api/schema/enhanced`
- Hasil `pytest -q` (harap semua smoke tests PASS)
Terima kasih! üôè
